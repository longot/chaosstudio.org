!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.h="b72fa44cab7ab21bf94c",e.cn="app",e(e.s=1)}([,function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(5),a=n(15),o=n(16),s=new Phaser.Game({width:1500,height:730,renderer:Phaser.AUTO,alignH:!0,alignV:!0,enableDebug:!0,antialias:!0});s.state.add("boot",new i.a,!0),s.state.add("preload",new r.a),s.state.add("menu",new a.a),s.state.add("game_sorter",new o.a)},function(t,e,n){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return p});var p=function(t){function e(){return a(this,e),u(this,l(e).call(this))}return h(e,t),s(e,[{key:"init",value:function(){this.game.stage.disableVisibilityChange=!0,this.resources=[{type:"image",key:"phaserlogo",url:n(4)}]}},{key:"preload",value:function(){var t=this;this.load.crossOrigin="Anonymous",this.resources.forEach(function(e){switch(r(this,t),e.type){case"atlas":this.load.atlas(e.key,e.url,null,e.json);break;case"image":this.load.image(e.key,e.url)}}.bind(this))}},{key:"create",value:function(){this.state.start("preload")}}]),e}(Phaser.State)},function(t,e,n){t.exports=n.p+"phaser.png"},function(t,e,n){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return p});var p=function(t){function e(){return a(this,e),u(this,l(e).call(this))}return h(e,t),s(e,[{key:"init",value:function(){this.game.stage.disableVisibilityChange=!0,this.resources=[{type:"image",key:"bgmenu",url:"https://live.staticflickr.com/5832/30442178063_5fd5cac59e_b.jpg"},{type:"image",key:"bggamesort",url:"https://live.staticflickr.com/3091/2610606989_31e9d0844d_z.jpg"},{type:"image",key:"close-button",url:n(6)},{type:"image",key:"cell",url:n(7)},{type:"image",key:"Line-1",url:n(8)},{type:"image",key:"Line-2",url:n(9)},{type:"image",key:"Line-3",url:n(10)},{type:"image",key:"Line-start",url:n(11)},{type:"image",key:"Line-finish",url:n(12)},{type:"image",key:"button-1",url:n(13)},{type:"image",key:"button-2",url:n(14)}],this.logo=this.game.add.image(this.game.world.centerX,this.game.world.centerY,"phaserlogo"),this.logo.anchor.setTo(.5,.5)}},{key:"preload",value:function(){var t=this;this.load.crossOrigin="Anonymous",this.resources.forEach(function(e){switch(r(this,t),e.type){case"atlas":this.load.atlas(e.key,e.url,null,e.json);break;case"image":this.load.image(e.key,e.url)}}.bind(this))}},{key:"create",value:function(){var t=this;this.game.add.tween(this.logo).to({alpha:0},250).start().onComplete.addOnce(function(){r(this,t),this.state.start("menu")}.bind(this))}}]),e}(Phaser.State)},function(t,e,n){t.exports=n.p+"close-button.png"},function(t,e,n){t.exports=n.p+"cell.png"},function(t,e,n){t.exports=n.p+"1.png"},function(t,e,n){t.exports=n.p+"2.png"},function(t,e,n){t.exports=n.p+"3.png"},function(t,e,n){t.exports=n.p+"start.png"},function(t,e,n){t.exports=n.p+"finish.png"},function(t,e,n){t.exports=n.p+"button-1.png"},function(t,e,n){t.exports=n.p+"button-2.png"},function(t,e,n){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return p});var p=function(t){function e(){return a(this,e),u(this,l(e).call(this))}return h(e,t),s(e,[{key:"init",value:function(){}},{key:"create",value:function(){var t=this,e=this.game.add.group(this.stage,"Background Layer"),n=this.game.add.group(this.stage,"UI Layer");this.background=this.game.make.image(0,0,"bgmenu"),e.add(this.background),this.game.scale.scaleSprite(e,this.game.width,this.game.height,!1),e.alignIn(this.game.camera.view,Phaser.CENTER,0,0);var i=this.game.make.text(350,50,"Please repair your think",{font:"Arial",fontSize:80,fill:"#FFFFFF",stroke:"#101010",strokeThickness:4});n.add(i);var a=this.game.make.text(200,200,"Start repairing",{font:"Arial",fontSize:60,fill:"#FFFFFF",stroke:"#101010",strokeThickness:4});n.add(a),a.inputEnabled=!0,a.events.onInputDown.add(function(){r(this,t),console.log("Game Start"),this.game.state.start("game_sorter")}.bind(this));var o=this.game.make.text(200,300,"Your stats",{font:"Arial",fontSize:60,fill:"#FFFFFF",stroke:"#101010",strokeThickness:4});n.add(o),o.inputEnabled=!0,o.events.onInputDown.add(function(){r(this,t),console.log("Game Stats")}.bind(this));var s=this.game.make.text(200,400,"About",{font:"Arial",fontSize:60,fill:"#FFFFFF",stroke:"#101010",strokeThickness:4});n.add(s),s.inputEnabled=!0,s.events.onInputDown.add(function(){r(this,t),console.log("About")}.bind(this))}}]),e}(Phaser.State)},function(t,e,n){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return k});var p=n(17),d=[[81,11,10,12,13],[12,2,1,1,12],[10,1,1,2,12],[12,2,1,2,13],[11,10,12,13,93]],m=[[80,2,2,2,13],[12,2,1,2,12],[12,2,1,2,12],[12,2,12,2,13],[11,10,12,1,92]],g=[[81,12,10,12,13],[1,2,1,2,12],[2,1,1,2,12],[1,2,12,2,13],[11,10,12,1,93]],b=[[80,2,2,2,13],[12,2,1,2,12],[12,2,1,2,12],[12,2,1,2,12],[11,2,1,1,92]],y=[[81,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,92]],w=[[81,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,92]],v={0:d,1:m,2:g,3:b,4:y,5:w},k=function(t){function e(){var t;return a(this,e),t=u(this,l(e).call(this)),t.currentLevel=0,t}return h(e,t),s(e,[{key:"create",value:function(){var t=this,e=this.game.add.group(this.stage,"Background Layer"),n=this.game.add.group(this.stage,"Game Layer"),i=this.game.add.group(this.stage,"UI Layer");this.background=this.game.make.image(0,0,"bggamesort"),e.add(this.background),this.game.scale.scaleSprite(e,this.game.width,this.game.height,!1),e.alignIn(this.game.camera.view,Phaser.CENTER,0,0);var a=this.game.make.text(40,25,"Repair your think",{font:"Arial",fontSize:70,fill:"#FFFFFF",stroke:"#101010",strokeThickness:4});i.add(a);var o=this.make.image(1460,40,"close-button");o.anchor.set(.5),o.scale.set(.25),i.add(o),o.inputEnabled=!0,o.events.onInputDown.add(function(){r(this,t),this.state.start("menu")}.bind(this)),this.sorterGame=new p.a(this.game,{level:v[this.currentLevel],complexity:this.currentLevel,cols:5,rows:5}),n.add(this.sorterGame.mainContainer),this.game.scale.scaleSprite(this.sorterGame.mainContainer,.55*this.game.width,.9*this.game.height,!0),this.sorterGame.mainContainer.centerY=this.game.height/2,this.sorterGame.mainContainer.x=.5*this.game.width,this.sorterGame.onWin.addOnce(function(){var e=this;r(this,t);var n=this.game.make.text(40,150,"You make this!",{font:"Arial",fontSize:70,fill:"#FFFFFF",stroke:"#101010",strokeThickness:4});i.add(n);var a=this.make.image(140,300,"button-1");a.anchor.set(.5),a.scale.set(.25),a.inputEnabled=!0,a.events.onInputDown.add(function(){r(this,e),this.state.start("game_sorter",!0,!1,this.currentLevel+1)}.bind(this));var o=this.game.make.text(0,-4,"Next level",{fill:"#ffffff",fontSize:50});o.anchor.set(.5),o.scale.set(2.5),o.setShadow(0,3,"#000000",2),a.addChild(o),i.add(a);var s=this.make.image(400,300,"button-2");s.anchor.set(.5),s.scale.set(.25),s.inputEnabled=!0,s.events.onInputDown.add(function(){r(this,e),this.state.start("game_sorter",!0,!1,this.currentLevel)}.bind(this));var u=this.game.make.text(0,-4,"Replay level",{fill:"#ffffff",fontSize:50});u.anchor.set(.5),u.scale.set(2.5),u.setShadow(0,3,"#000000",2),s.addChild(u),i.add(s)}.bind(this))}}]),e}(Phaser.State)},function(t,e,n){"use strict";function i(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"a",function(){return l});var s={width:100,height:100},u={1:3,2:4,3:1,4:2},c={1:{sprite:"Line-1",angle:0,path:[2,4]},2:{sprite:"Line-1",angle:90,path:[1,3]},3:{sprite:"Line-3",angle:0,path:[1,2,3,4]},10:{sprite:"Line-2",angle:0,path:[1,4]},11:{sprite:"Line-2",angle:90,path:[1,2]},12:{sprite:"Line-2",angle:180,path:[2,3]},13:{sprite:"Line-2",angle:270,path:[3,4]},80:{sprite:"Line-start",angle:0,path:[2]},81:{sprite:"Line-start",angle:90,path:[3]},82:{sprite:"Line-start",angle:180,path:[4]},83:{sprite:"Line-start",angle:270,path:[1]},90:{sprite:"Line-finish",angle:0,path:[2]},91:{sprite:"Line-finish",angle:90,path:[3]},92:{sprite:"Line-finish",angle:180,path:[4]},93:{sprite:"Line-finish",angle:270,path:[1]}},l=function(){function t(e,n){var a=this;r(this,t),this.game=e,this.config=n,this.level=n.level,this.onTurn=new Phaser.Signal,this.onWin=new Phaser.Signal,this.boardSize={rows:n.rows,cols:n.cols,width:n.cols*s.width,height:n.rows*s.height};var o=e.add.group();o.name="MainContainer",this.mainContainer=o;var u=e.make.graphics(0,0);u.lineStyle(5,6326207),u.beginFill(6332351),u.drawRoundedRect(-5,-5,this.boardSize.width+10,this.boardSize.height+10,10),this.bgRect=u,this.mainContainer.add(u);var l=e.add.group();l.name="cell-group",this.cellGroup=l,o.add(l);for(var h=0;h<this.boardSize.cols;h++)for(var f=0;f<this.boardSize.rows;f++){var p={x:h*s.width+1,y:f*s.height+1},d=e.add.image(p.x,p.y,"cell");d.width=s.width+1,d.height=s.height+1,d.data.x=h,d.data.y=f,l.add(d)}var m=e.add.group();this.itemGroup=m,m.name="Item Group",o.add(m);var g=[];this.items=g,this.level.forEach(function(t,n){var r=this;i(this,a),t.forEach(function(t,a){i(this,r);var o=c[t].sprite,u=e.add.sprite(a*s.width+s.width/2,n*s.height+s.height/2,o);u.anchor.set(.5),u.angle=c[t].angle,u.data.x=a,u.data.y=n,u.data.itemNum=t,u.data.dirty=!0,u.inputEnabled=!0,u.events.onInputUp.add(this.tapToItem,this),m.add(u),g.push(u)}.bind(this))}.bind(this)),this.complexityTimer=this.game.time.events.repeat(3*Phaser.Timer.SECOND/(n.complexity+1),1e3,function(){var t=this;i(this,a);var n=Phaser.ArrayUtils.getRandomItem(this.items),r=0;if(n.data.itemNum>=80&&n.data.itemNum<90&&Phaser.Utils.chanceRoll(10)&&(r=e.rnd.between(80,83)),n.data.itemNum>=90&&n.data.itemNum<99&&Phaser.Utils.chanceRoll(10)&&(r=e.rnd.between(90,93)),n.data.itemNum>=10&&n.data.itemNum<19&&(r=e.rnd.between(10,13)),1==n.data.itemNum&&(r=2),2==n.data.itemNum&&(r=1),0!==r){n.data.itemNum=r,this.allowClick=!1;this.game.add.tween(n).to({angle:c[r].angle},.25*Phaser.Timer.SECOND).start().onComplete.addOnce(function(){i(this,t),this.allowClick=!0}.bind(this))}}.bind(this)),this.complexityTimer.timer.start(),this.allowClick=!0}return o(t,[{key:"tapToItem",value:function(t){var e=this;if(!(t.data.itemNum>49)&&this.allowClick){this.allowClick=!1;this.game.add.tween(t).to({angle:t.angle+90},.25*Phaser.Timer.SECOND).start().onComplete.addOnce(function(){i(this,e),this.allowClick=!0}.bind(this)),2==t.data.itemNum?t.data.itemNum=1:1==t.data.itemNum&&(t.data.itemNum=2),t.data.itemNum>=10&&t.data.itemNum<13?t.data.itemNum++:13==t.data.itemNum&&(t.data.itemNum=10),this.detectWin()}}},{key:"detectWin",value:function(){for(var t=this,e=[],n=0;n<this.boardSize.cols;n++){var r=new Array(this.boardSize.rows);r.fill(0,0),e.push(r)}var a=this.boardSize.cols*this.boardSize.rows,o=0,s=0,l=0,h=this.getItem(s,l),f=0,p=c[h.data.itemNum].path[0];do{var d=s,m=l;if(1===p&&(m-=1),2===p&&(d+=1),3===p&&(m+=1),4===p&&(d-=1),d==this.boardSize.cols-1&&m==this.boardSize.rows-1){console.log("Your Win"),this.complexityTimer.timer.destroy(),this.onWin.dispatch(),console.groupEnd();break}if(d<0||d>this.boardSize.cols-1){console.groupEnd();break}if(m<0||m>this.boardSize.rows-1){console.groupEnd();break}var g=this.getItem(d,m);if(!g){console.groupEnd();break}var b=c[g.data.itemNum].path;if(!b.includes(u[p])){console.groupEnd();break}s=d,l=m,f=u[p],p=b.filter(function(e){return i(this,t),e!=f}.bind(this))[0],o++}while(o<=a)}},{key:"getItem",value:function(t,e){var n=this;return this.items.find(function(r){return i(this,n),r.data.x==t&&r.data.y==e}.bind(this))}}]),t}()}]);